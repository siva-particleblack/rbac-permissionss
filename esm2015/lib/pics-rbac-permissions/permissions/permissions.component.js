import { Component } from '@angular/core';
import { Validators } from '@angular/forms';
import { DomSanitizer } from '@angular/platform-browser';
import { PrimeIcons } from 'primeng/api';
import { RBACINFO } from '../@core/urls/rbac-url.config';
import * as i0 from "@angular/core";
import * as i1 from "../@core/service/rbac.service";
import * as i2 from "@angular/forms";
import * as i3 from "../@core/service/alert.service";
import * as i4 from "primeng/api";
import * as i5 from "../@core/service/http.service";
import * as i6 from "../@core/service/share-data.service";
import * as i7 from "../@core/service/data-store.service";
import * as i8 from "../@shared/alert/alert.component";
import * as i9 from "primeng/tree";
import * as i10 from "primeng/contextmenu";
import * as i11 from "primeng/confirmpopup";
import * as i12 from "primeng/card";
import * as i13 from "primeng/dropdown";
import * as i14 from "primeng/checkbox";
import * as i15 from "@angular/common";
import * as i16 from "../@core/directives/permission.directive";
import * as i17 from "primeng/inputtext";
export class PermissionsComponent {
    constructor(injector, permissionService, formBuilder, alertService, confirmationService, httpService, _shareData, _storeservice) {
        this.permissionService = permissionService;
        this.formBuilder = formBuilder;
        this.alertService = alertService;
        this.confirmationService = confirmationService;
        this.httpService = httpService;
        this._shareData = _shareData;
        this._storeservice = _storeservice;
        this.menuItems = [];
        this.selectedItem = {};
        this.RBACORG = new RBACINFO();
        this.nodeType = 'page';
        this.saveMode = 'INSERT';
        this.sanitizer = injector.get(DomSanitizer);
        this.initializePageForm();
        this.initializePermissionForm();
    }
    ngOnInit() {
        this.orgSubs = this._storeservice.currentStore.subscribe((res) => {
            if (res['RBACORG'] && res['RBACORG'] !== '') {
                this.RBACORG = res['RBACORG'];
                console.log(this.RBACORG, 'RBACORG Permisson');
                this.environment = this.RBACORG['environment'];
                this.orgId = parseInt(this.RBACORG['orgID']);
                if (this.orgId) {
                    this.setPagesList();
                }
                if (this.environment) {
                    this.loadInitial();
                }
            }
        });
    }
    ngOnDestroy() {
        this.orgSubs.unsubscribe();
    }
    loadInitial() {
        this.loadTree();
        this.loadContextMenu();
        this.permissionService.getPermissionsTree(this.environment.applicationid).subscribe((items) => {
            this.permissions = items.data;
        });
        this.permissionService.getPermissionTypes(this.environment.applicationid).subscribe((items) => {
            this.permissionTypes = items.data;
        });
    }
    initializePageForm() {
        this.pageForm = this.formBuilder.group({
            id: [0],
            parentid: [null],
            applicationid: [this.environment ? this.environment['applicationid'] : ''],
            name: ['', Validators.required],
            route: ['', Validators.required],
            order: [0],
            ismenu: [false],
            thumbnail: [''],
            icon: ['']
        });
    }
    initializePermissionForm() {
        this.permissionForm = this.formBuilder.group({
            id: [0],
            parentid: [null],
            pageid: [0],
            permissiontypeid: [0, Validators.required],
            key: ['', Validators.required],
            description: ['', Validators.required],
            order: [0]
        });
    }
    onNodeContextMenuSelect(_event) {
        console.log();
    }
    nodeSelect(event) {
        var _a, _b, _c, _d;
        this.saveMode = 'UPDATE';
        this.showLinkPage = false;
        this.nodeType = event.node.type;
        if (event.node.type === 'permission') {
            this.permissionForm.reset();
            this.permissionForm.patchValue(event.node);
        }
        else {
            this.pageForm.reset();
            this.pageForm.patchValue(event.node);
            this.pageForm.patchValue({
                icon: ((_a = event.node.additionalinfo) === null || _a === void 0 ? void 0 : _a.icon) || ''
            });
            if (event.node.route.includes('/pages/dynamic-search/search')) {
                this.showLinkPage = true;
                this.pageForm.patchValue({
                    route: event.node.route.split('/')[4]
                });
            }
            this.imageInformation = ((_d = (_c = (_b = event.node.additionalinfo) === null || _b === void 0 ? void 0 : _b.thumbnail) === null || _c === void 0 ? void 0 : _c.fileName) === null || _d === void 0 ? void 0 : _d.split('/')[1]) || '';
        }
    }
    nodeExpand(event) {
        const pageId = event.node.type === 'permission' ? event.node.pageid : event.node.data;
        const parentId = event.node.type === 'permission' ? event.node.data : 0;
        if (event.node && event.node.data) {
            this.permissionService.getPermissionTree(pageId, parentId).subscribe((nodes) => {
                event.node.children = nodes.data;
            });
        }
    }
    savePage() {
        const page = this.pageForm.value;
        page.applicationid = this.environment.applicationid;
        page.additionalinfo = {
            icon: page.icon
        };
        if (this.showLinkPage) {
            page.route = `/pages/dynamic-search/search/${page.route}`;
        }
        if (this.pageForm.valid) {
            page.order = page.order ? Number(page.order) : 1;
            if (this.saveMode === 'INSERT') {
                this.permissionService.createPage(page).subscribe((res) => {
                    if (this.showLinkPage) {
                        page.id = res['data'];
                        this.savePermission(page);
                    }
                    this.alertService.success('Page created successfully.');
                    this.loadTree();
                });
            }
            else {
                this.permissionService.updatePage(page).subscribe(() => {
                    this.alertService.success('Page updated successfully.');
                    this.loadTree();
                });
            }
        }
        else {
            this.alertService.error('Please Fill All Required Fields.');
        }
    }
    savePermission(page) {
        if (page) {
            this.permissionForm.patchValue({
                description: page.name,
                key: page.name.toUpperCase().replaceAll(' ', '_'),
                pageid: page.id,
                order: 1,
                permissiontypeid: 1
            });
        }
        const permission = Object.assign(Object.assign({}, this.permissionForm.value), { order: +this.permissionForm.value.order });
        if (this.permissionForm.valid) {
            permission.order = permission.order ? Number(permission.order) : 1;
            delete permission.readonly;
            if (this.saveMode === 'INSERT') {
                this.permissionService.createPermission(permission).subscribe(() => {
                    this.alertService.success('Permission created successfully.');
                    this.loadTree();
                });
            }
            else {
                this.permissionService.updatePermission(permission).subscribe(() => {
                    this.alertService.success('Permission updated successfully.');
                    this.loadTree();
                });
            }
        }
        else {
            this.alertService.error('Invalid permission data.');
        }
    }
    clearForm() {
        if (this.nodeType === 'permission') {
            this.initializePermissionForm();
        }
        else {
            this.initializePageForm();
        }
    }
    resetForm() {
        this.saveMode = '';
        this.imageInformation = '';
        this.pageForm.reset();
        this.clearForm();
    }
    removeThumbnail() {
        this.pageForm.controls['thumbnail'].reset();
        this.imageInformation = '';
    }
    createPermissionForm() {
        this.initializePermissionForm();
        if (this.nodeType === 'page') {
            this.nodeType = 'permission';
            this.permissionForm.patchValue({
                pageid: this.selectedItem.id
            });
        }
        else {
            this.permissionForm.patchValue({
                pageid: this.selectedItem.pageid,
                parentid: this.selectedItem.id
            });
        }
    }
    loadContextMenu() {
        const permission = {
            SETTINGS_PER_CREATE_PAGE: true,
            SETTINGS_PER_CREATE_PERMISSION: true,
            SETTINGS_PER_DELETE: true
        };
        this.menuItems = [
            {
                label: 'Create Page',
                icon: PrimeIcons.ARROW_UP_LEFT,
                visible: permission.SETTINGS_PER_CREATE_PAGE,
                badge: 'SETTINGS_PER_CREATE_PAGE',
                command: (_event) => {
                    this.saveMode = 'INSERT';
                    this.nodeType = 'page';
                    this.showLinkPage = false;
                    this.clearForm();
                }
            },
            {
                label: 'Link Page',
                icon: PrimeIcons.ARROW_UP_LEFT,
                visible: permission.SETTINGS_PER_CREATE_PAGE,
                command: (_event) => {
                    this.saveMode = 'INSERT';
                    this.nodeType = 'page';
                    this.showLinkPage = true;
                    this.clearForm();
                }
            },
            {
                label: 'Create Permission',
                icon: PrimeIcons.ARROW_DOWN_RIGHT,
                visible: permission.SETTINGS_PER_CREATE_PERMISSION,
                badge: 'SETTINGS_PER_CREATE_PERMISSION',
                command: _event => {
                    this.saveMode = 'INSERT';
                    this.nodeType = this.selectedItem.type;
                    this.clearForm();
                    this.createPermissionForm();
                }
            },
            {
                label: 'Delete',
                icon: PrimeIcons.TRASH,
                visible: permission.SETTINGS_PER_DELETE,
                badge: 'SETTINGS_PER_DELETE',
                command: event => {
                    this.saveMode = 'DELETE';
                    this.nodeType = this.selectedItem.type;
                    this.confirmationService.confirm({
                        target: event.target,
                        message: 'Are you sure that you want to delete?',
                        icon: 'pi pi-exclamation-triangle',
                        accept: () => {
                            //confirm action
                            this.deleteItem();
                        },
                        reject: () => {
                            // This is intentional
                        }
                    });
                }
            }
        ];
    }
    setPagesList() {
        this.permissionService.getOrganizationPage(this.orgId).subscribe((res) => {
            const data = res['data'];
            if (data && (data === null || data === void 0 ? void 0 : data.length)) {
                this.pagesList = data === null || data === void 0 ? void 0 : data.filter((a) => { var _a; return (_a = a.activeVersion) === null || _a === void 0 ? void 0 : _a.gridconfig; }).map((x) => {
                    x.activeVersion.pageid = x.activeVersion.pageid.toString();
                    return {
                        id: x.activeVersion.pageid,
                        pagename: x.activeVersion.pagename,
                        value: x.activeVersion.pagename
                    };
                });
            }
        });
    }
    loadTree() {
        this.permissionService.getAllPageTree(this.environment.applicationid).subscribe((items) => {
            this.pages = items;
            if (this.pages.length) {
                this.selectedItem = this.pages[0];
            }
        });
    }
    deleteItem() {
        this.saveMode = 'UPDATE';
        if (this.selectedItem.type === 'page') {
            this.permissionService.deletePage(this.selectedItem.id).subscribe((_item) => {
                this.alertService.success('Page deleted successfully.');
                this.loadTree();
            });
        }
        else {
            this.permissionService.deletePermission(this.selectedItem.id).subscribe((_item) => {
                this.alertService.success('Control Permission deleted successfully.');
                this.loadTree();
            });
        }
    }
    requiredIfValidator(predicate) {
        return (formControl) => {
            if (!formControl.parent) {
                return null;
            }
            if (predicate()) {
                return Validators.required(formControl);
            }
            return null;
        };
    }
    handleFileInput(fileValue) {
        const target = fileValue.target;
        const file = target.files[0];
        this.uploadedFile = fileValue.target.files[0].name;
        this.imageData = {
            contentType: fileValue.target.files[0].type,
            fileName: `dynamic-menu/${this.uploadedFile}`
        };
        this.imageInformation = this.uploadedFile;
        if (this.validateImage(fileValue.target.files)) {
            this.permissionService.uploadKey(this.imageData).subscribe((res) => {
                this.urlPath = res.data;
                const uploadAttachment = document.getElementById('file');
                const uploadAttachmentDetails = uploadAttachment.files[0];
                this.httpService.putUpload(this.urlPath, uploadAttachmentDetails, uploadAttachmentDetails.type).subscribe((_resp) => {
                    this.alertService.success('Uploaded Successfully!');
                    const reader = new FileReader();
                    reader.onload = () => {
                        const value = this.sanitizer.bypassSecurityTrustUrl(reader.result);
                        this.pageForm.patchValue({ thumbnail: value });
                    };
                    reader.readAsDataURL(file);
                    this.attachType = fileValue.target.files[0].type;
                }, (error) => {
                    if (error.status == 0) {
                        this.alertService.error('AppConstants.errorMessage');
                        this.uploadedFile = '';
                        this.urlPath = '';
                    }
                });
            }, (_error) => {
                this.alertService.error('AppConstants.errorMessage');
            });
        }
    }
    validateImage(file) {
        const fileSize = Number(file[0].size) / 1024;
        const filetype = file[0].type.replace('image/', '');
        if (filetype === 'jpg' ||
            filetype === 'jpeg' ||
            filetype === 'png' ||
            filetype === 'gif' ||
            filetype === 'svg+xml') {
            if (fileSize < 50) {
                return true;
            }
            else {
                this.imageInformation = 'Image size exceeds 50 KB';
                this.alertService.warn('File is bigger than 50 KB');
                return false;
            }
        }
        else {
            this.imageInformation = '';
            this.alertService.warn(`${filetype} format is not supported`);
            return false;
        }
    }
}
PermissionsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PermissionsComponent, deps: [{ token: i0.Injector }, { token: i1.RbacService }, { token: i2.FormBuilder }, { token: i3.AlertService }, { token: i4.ConfirmationService }, { token: i5.HttpService }, { token: i6.ShareDataService }, { token: i7.DataStoreService }], target: i0.ɵɵFactoryTarget.Component });
PermissionsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: PermissionsComponent, selector: "permissions", ngImport: i0, template: "<app-alert></app-alert>\r\n<div class=\"permission\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-4 col-md-6 col-12\">\r\n      <div class=\"clearfix\"></div>\r\n      <div class=\"tab-content py-2\">\r\n        <div class=\"tab-pane fade show active\">\r\n          <div class=\"masteracess\">\r\n            <p-tree\r\n              [value]=\"pages\"\r\n              selectionMode=\"single\"\r\n              [(selection)]=\"selectedItem\"\r\n              (onNodeSelect)=\"nodeSelect($event)\"\r\n              (onNodeContextMenuSelect)=\"onNodeContextMenuSelect($event)\"\r\n              (onNodeExpand)=\"nodeExpand($event)\"\r\n              [contextMenu]=\"treeContextMenu\"\r\n              #treeContextMenu></p-tree>\r\n            <p-contextMenu [target]=\"treeContextMenu\" [model]=\"menuItems\"></p-contextMenu>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-lg-8 col-md-6 col-12 master-right mt-2\">\r\n      <p-confirmPopup></p-confirmPopup>\r\n      <p-card\r\n        *ngIf=\"nodeType === 'page'\"\r\n        id=\"pageForm\"\r\n        class=\"rbac-card\"\r\n        [formGroup]=\"pageForm\"\r\n        [style]=\"{ width: '100%', 'margin-bottom': '2em' }\">\r\n        <div class=\"strip_head toggleleft\">\r\n          <span class=\"report_head font-weight-bold\">Page</span>\r\n        </div>\r\n        <input id=\"cid\" type=\"hidden\" formControlName=\"id\" />\r\n        <input id=\"capplicationid\" type=\"hidden\" formControlName=\"applicationid\" />\r\n        <div class=\"p-fluid p-formgrid p-grid\">\r\n          <div class=\"col-lg-3 col-md-12 col-12 mb-3\">\r\n            <label for=\"cname\" class=\"referral-form-labels\"\r\n              >Name\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input\r\n              id=\"cname\"\r\n              type=\"text\"\r\n              formControlName=\"name\"\r\n              fieldKey=\"SETTINGS_PER_NAME\"\r\n              placeholder=\"Enter Name\"\r\n              aria-describedby=\"cname\"\r\n              pInputText />\r\n            <div\r\n              *ngIf=\"\r\n                pageForm.controls['name'].invalid &&\r\n                (pageForm.controls['name'].dirty || pageForm.controls['name'].touched)\r\n              \">\r\n              <small *ngIf=\"pageForm.controls['name'].invalid\" class=\"p-error block\">Name is required </small>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-3 col-md-12 col-12 mb-3\" *ngIf=\"!showLinkPage\">\r\n            <label for=\"croute\" class=\"referral-form-labels\">\r\n              Route\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input\r\n              id=\"croute\"\r\n              type=\"text\"\r\n              formControlName=\"route\"\r\n              fieldKey=\"SETTINGS_PER_ROUTE\"\r\n              placeholder=\"Enter Route\"\r\n              aria-describedby=\"croute\"\r\n              pInputText />\r\n            <div\r\n              *ngIf=\"\r\n                pageForm.controls['route'].invalid &&\r\n                (pageForm.controls['route'].dirty || pageForm.controls['route'].touched)\r\n              \">\r\n              <small *ngIf=\"pageForm.controls['route'].invalid\" class=\"p-error block\">Route is required </small>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-3 col-md-12 col-12 mb-3\" *ngIf=\"showLinkPage\">\r\n            <label for=\"croute\" class=\"referral-form-labels\">\r\n              Dynamic Pages\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <p-dropdown\r\n              [options]=\"pagesList\"\r\n              formControlName=\"route\"\r\n              fieldKey=\"SETTINGS_PER_ROUTE\"\r\n              placeholder=\"Select Dynamic Page\"\r\n              optionLabel=\"value\"\r\n              optionValue=\"id\"\r\n              [showClear]=\"true\">\r\n            </p-dropdown>\r\n            <div\r\n              *ngIf=\"\r\n                pageForm.controls['route'].invalid &&\r\n                (pageForm.controls['route'].dirty || pageForm.controls['route'].touched)\r\n              \">\r\n              <small *ngIf=\"pageForm.controls['route'].invalid\" class=\"p-error block\">Route is required </small>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-3 col-md-12 col-12 mb-3\">\r\n            <label for=\"corder\" class=\"referral-form-labels\">Parent Page </label>\r\n            <p-dropdown\r\n              [options]=\"pages\"\r\n              placeholder=\"Select Parent Page\"\r\n              formControlName=\"parentid\"\r\n              optionLabel=\"name\"\r\n              optionValue=\"id\"\r\n              [showClear]=\"true\"\r\n              fieldKey=\"SETTINGS_PER_PARENT_PAGE\">\r\n            </p-dropdown>\r\n          </div>\r\n          <div class=\"col-lg-3 col-md-12 col-12 mb-3\">\r\n            <label for=\"corder\" class=\"referral-form-labels d-none d-lg-inline-block\">&#160;</label>\r\n            <div>\r\n              <p-checkbox\r\n                st\r\n                inputId=\"binary\"\r\n                [binary]=\"true\"\r\n                fieldKey=\"SETTINGS_PER_MENU\"\r\n                formControlName=\"ismenu\"\r\n                label=\"Menu\"></p-checkbox>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-3 col-md-12 col-12 mb-3\">\r\n          <label for=\"icon\" class=\"referral-form-labels\">\r\n            Icon\r\n            <span class=\"requiredfield text-danger\">*</span>\r\n          </label>\r\n          <div class=\"d-flex\">\r\n            <input\r\n              id=\"icon\"\r\n              type=\"text\"\r\n              formControlName=\"icon\"\r\n              placeholder=\"Enter Icon Name\"\r\n              aria-describedby=\"cdescription-icon\"\r\n              pInputText />\r\n            <span class=\"material-symbols-outlined userempty\">\r\n              {{ pageForm.controls['icon'].value }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div class=\"mt-2\">\r\n          <button\r\n            class=\"pull-right mb-2 btn btn-primary btncommon\"\r\n            fieldKey=\"SETTINGS_PER_ADD_PAGE\"\r\n            (click)=\"savePage()\">\r\n            {{ saveMode === 'UPDATE' ? 'Update Page' : 'Add Page' }}\r\n          </button>\r\n          <button\r\n            fieldKey=\"SETTINGS_PER_CANCEL\"\r\n            class=\"pull-right mb-2 mr-2 btn bg-white text-primary border border-primary btncancel\"\r\n            (click)=\"resetForm()\">\r\n            Cancel\r\n          </button>\r\n          <br />\r\n          <br />\r\n        </div>\r\n      </p-card>\r\n\r\n      <p-card\r\n        *ngIf=\"nodeType === 'permission'\"\r\n        id=\"permissionForm\"\r\n        class=\"rbac-card\"\r\n        [formGroup]=\"permissionForm\"\r\n        [style]=\"{ width: '100%', 'margin-bottom': '2em' }\">\r\n        <div class=\"strip_head toggleleft\">\r\n          <span class=\"report_head font-weight-bold\">Permission</span>\r\n        </div>\r\n\r\n        <input id=\"lid\" type=\"hidden\" formControlName=\"id\" />\r\n        <input id=\"lpermissionpageid\" type=\"hidden\" formControlName=\"permissiontypeid\" />\r\n        <input id=\"lparentid\" type=\"hidden\" formControlName=\"parentid\" />\r\n        <input id=\"lpageid\" type=\"hidden\" formControlName=\"pageid\" />\r\n\r\n        <div class=\"p-fluid p-formgrid p-grid\">\r\n          <div class=\"p-field p-col\">\r\n            <label for=\"lpermissiontype\" class=\"referral-form-labels\">Permission Type </label>\r\n            <p-dropdown\r\n              id=\"lpermissiontype\"\r\n              [options]=\"permissionTypes\"\r\n              placeholder=\"Select a Permission Type\"\r\n              formControlName=\"permissiontypeid\"\r\n              optionLabel=\"name\"\r\n              optionValue=\"id\">\r\n            </p-dropdown>\r\n            <div *ngIf=\"permissionForm.controls['permissiontypeid'].errors\">\r\n              <small *ngIf=\"permissionForm.controls['permissiontypeid'].invalid\" class=\"p-error block\"\r\n                >Permission Type is required\r\n              </small>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field p-col\">\r\n            <label for=\"lkey\" class=\"referral-form-labels\"\r\n              >Key\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input\r\n              id=\"lkey\"\r\n              type=\"text\"\r\n              placeholder=\"Enter Key\"\r\n              formControlName=\"key\"\r\n              aria-describedby=\"lkey-help\"\r\n              pInputText />\r\n            <div *ngIf=\"permissionForm.controls['key'].errors\">\r\n              <small *ngIf=\"permissionForm.controls['key'].invalid\" class=\"p-error block\">Key is required </small>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field p-col\">\r\n            <label for=\"lvalue\" class=\"referral-form-labels\">Description </label>\r\n            <input\r\n              id=\"lvalue\"\r\n              type=\"text\"\r\n              placeholder=\"Enter Value\"\r\n              formControlName=\"description\"\r\n              aria-describedby=\"pname-help\"\r\n              pInputText />\r\n            <div *ngIf=\"permissionForm.controls['description'].errors\">\r\n              <small *ngIf=\"permissionForm.controls['description'].invalid\" class=\"p-error block\"\r\n                >Description is required\r\n              </small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mt-2\">\r\n          <button type=\"submit\" class=\"pull-right mb-2 btn btn-primary btncommon\" (click)=\"savePermission()\">\r\n            {{ saveMode === 'UPDATE' ? 'Update Permission' : 'Add Permission' }}\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" (click)=\"clearForm()\">Cancel</button>\r\n          <br />\r\n          <br />\r\n        </div>\r\n      </p-card>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".head-div{padding-top:9px;padding-left:7px}.bgiconsearch{margin-bottom:5px;padding-bottom:0;font-size:13px}.masteracess{border:solid 1px var(--table-border);border-radius:2px;padding:5px 0;overflow-y:auto;background:var(--bg-light)}.masterempty{max-width:none;border-radius:50%;height:40px;width:40px}.row.masterdata{margin:0;border-bottom:solid 1px var(--table-border);padding:5px 0;cursor:pointer}.overflow_txt{overflow:hidden;text-overflow:ellipsis}span.namemaster{font-size:13px;color:var(--text-dark)}.masterid,span.emailmaster{font-size:13px;color:#9b9b9b}span.deletemaster{position:absolute;top:0px;right:15px;z-index:9;width:20px;float:right;cursor:pointer}span.deletemaster img{width:12px}.activate{position:absolute;margin-top:-46px;margin-left:44rem}.toggleleft{font-size:14px;font-weight:600;display:block;margin-top:-12px;padding-bottom:13px}.report_button{margin-left:12px}:host ::ng-deep .ui-tree.permission-tree{width:100%}.userempty{max-width:none;padding:8px;border-radius:10%;height:36px;width:35px;color:var(--text-dark);margin-left:10px;display:flex;align-items:center}.fileupload .profile{color:#fff}.rbac-card .p-fluid .p-inputtext{padding:8px}.rbac-card .warning{margin-left:10px}.pi-trash{color:red;font-size:12px}@media screen and (max-width: 767px){.masteracess{max-height:400px}}@media screen and (min-width: 990px){.masteracess{height:calc(100vh - 188px)}}@media screen and (max-width: 990px){:host ::ng-deep .selected-list .c-list{width:calc(100% - 35px)!important}.pageLevelAccessTable{width:100%;overflow:auto}.pageLevelAccessTable .table{margin-bottom:60px}}\n"], components: [{ type: i8.AlertComponent, selector: "app-alert" }, { type: i9.Tree, selector: "p-tree", inputs: ["value", "selectionMode", "selection", "style", "styleClass", "contextMenu", "layout", "draggableScope", "droppableScope", "draggableNodes", "droppableNodes", "metaKeySelection", "propagateSelectionUp", "propagateSelectionDown", "loading", "loadingIcon", "emptyMessage", "ariaLabel", "togglerAriaLabel", "ariaLabelledBy", "validateDrop", "filter", "filterBy", "filterMode", "filterPlaceholder", "filteredNodes", "filterLocale", "scrollHeight", "virtualScroll", "virtualNodeHeight", "minBufferPx", "maxBufferPx", "indentation", "trackBy"], outputs: ["selectionChange", "onNodeSelect", "onNodeUnselect", "onNodeExpand", "onNodeCollapse", "onNodeContextMenuSelect", "onNodeDrop", "onFilter"] }, { type: i10.ContextMenu, selector: "p-contextMenu", inputs: ["model", "global", "target", "style", "styleClass", "appendTo", "autoZIndex", "baseZIndex", "triggerEvent"], outputs: ["onShow", "onHide"] }, { type: i11.ConfirmPopup, selector: "p-confirmPopup", inputs: ["key", "defaultFocus", "showTransitionOptions", "hideTransitionOptions", "autoZIndex", "baseZIndex", "style", "styleClass", "visible"] }, { type: i12.Card, selector: "p-card", inputs: ["header", "subheader", "style", "styleClass"] }, { type: i13.Dropdown, selector: "p-dropdown", inputs: ["scrollHeight", "filter", "name", "style", "panelStyle", "styleClass", "panelStyleClass", "readonly", "required", "editable", "appendTo", "tabindex", "placeholder", "filterPlaceholder", "filterLocale", "inputId", "selectId", "dataKey", "filterBy", "autofocus", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "autoDisplayFirst", "group", "showClear", "emptyFilterMessage", "emptyMessage", "virtualScroll", "itemSize", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "ariaFilterLabel", "ariaLabel", "ariaLabelledBy", "filterMatchMode", "maxlength", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "autofocusFilter", "disabled", "options", "filterValue"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onShow", "onHide", "onClear"] }, { type: i14.Checkbox, selector: "p-checkbox", inputs: ["value", "name", "disabled", "binary", "label", "ariaLabelledBy", "ariaLabel", "tabindex", "inputId", "style", "styleClass", "labelStyleClass", "formControl", "checkboxIcon", "readonly", "required", "trueValue", "falseValue"], outputs: ["onChange"] }], directives: [{ type: i15.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i2.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i2.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i2.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i2.FormControlName, selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i16.PermissionDirective, selector: "[fieldKey]", inputs: ["fieldKey"] }, { type: i17.InputText, selector: "[pInputText]" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PermissionsComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'permissions',
                    templateUrl: './permissions.component.html',
                    styleUrls: ['./permissions.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1.RbacService }, { type: i2.FormBuilder }, { type: i3.AlertService }, { type: i4.ConfirmationService }, { type: i5.HttpService }, { type: i6.ShareDataService }, { type: i7.DataStoreService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGVybWlzc2lvbnMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL3JiYWMtcGVybWlzc2lvbnMvc3JjL2xpYi9waWNzLXJiYWMtcGVybWlzc2lvbnMvcGVybWlzc2lvbnMvcGVybWlzc2lvbnMuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL3JiYWMtcGVybWlzc2lvbnMvc3JjL2xpYi9waWNzLXJiYWMtcGVybWlzc2lvbnMvcGVybWlzc2lvbnMvcGVybWlzc2lvbnMuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBMkIsTUFBTSxlQUFlLENBQUM7QUFDbkUsT0FBTyxFQUEyQyxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNyRixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDekQsT0FBTyxFQUFpQyxVQUFVLEVBQVksTUFBTSxhQUFhLENBQUM7QUFLbEYsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLCtCQUErQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU3pELE1BQU0sT0FBTyxvQkFBb0I7SUF3Qi9CLFlBQ0UsUUFBa0IsRUFDVixpQkFBOEIsRUFDOUIsV0FBd0IsRUFDeEIsWUFBMEIsRUFDMUIsbUJBQXdDLEVBQ3hDLFdBQXdCLEVBQ3hCLFVBQTRCLEVBQzVCLGFBQStCO1FBTi9CLHNCQUFpQixHQUFqQixpQkFBaUIsQ0FBYTtRQUM5QixnQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUN4QixpQkFBWSxHQUFaLFlBQVksQ0FBYztRQUMxQix3QkFBbUIsR0FBbkIsbUJBQW1CLENBQXFCO1FBQ3hDLGdCQUFXLEdBQVgsV0FBVyxDQUFhO1FBQ3hCLGVBQVUsR0FBVixVQUFVLENBQWtCO1FBQzVCLGtCQUFhLEdBQWIsYUFB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bSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEFic3RyYWN0Q29udHJvbCwgRm9ybUJ1aWxkZXIsIEZvcm1Hcm91cCwgVmFsaWRhdG9ycyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHsgRG9tU2FuaXRpemVyIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XHJcbmltcG9ydCB7IENvbmZpcm1hdGlvblNlcnZpY2UsIE1lbnVJdGVtLCBQcmltZUljb25zLCBUcmVlTm9kZSB9IGZyb20gJ3ByaW1lbmcvYXBpJztcclxuaW1wb3J0IHsgQWxlcnRTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9hbGVydC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgSHR0cFNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2h0dHAuc2VydmljZSc7XHJcbmltcG9ydCB7IFJiYWNTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9yYmFjLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBTaGFyZURhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9zaGFyZS1kYXRhLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBSQkFDSU5GTyB9IGZyb20gJy4uL0Bjb3JlL3VybHMvcmJhYy11cmwuY29uZmlnJztcclxuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IERhdGFTdG9yZVNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2RhdGEtc3RvcmUuc2VydmljZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ3Blcm1pc3Npb25zJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vcGVybWlzc2lvbnMuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3Blcm1pc3Npb25zLmNvbXBvbmVudC5zY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIFBlcm1pc3Npb25zQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuICBwYWdlcyE6IFRyZWVOb2RlW107XHJcbiAgbWVudUl0ZW1zOiBNZW51SXRlbVtdID0gW107XHJcbiAgcGFnZUZvcm0hOiBGb3JtR3JvdXA7XHJcbiAgcGVybWlzc2lvbkZvcm0hOiBGb3JtR3JvdXA7XHJcbiAgcGVybWlzc2lvbnMhOiBhbnlbXTtcclxuICBwZXJtaXNzaW9uVHlwZXMhOiBhbnlbXTtcclxuICBub2RlVHlwZTogc3RyaW5nO1xyXG4gIHNhdmVNb2RlOiBzdHJpbmc7XHJcbiAgc2VsZWN0ZWRJdGVtOiBhbnkgPSB7fTtcclxuICBpbWFnZUluZm9ybWF0aW9uOiBhbnk7XHJcbiAgdXJsUGF0aDogYW55O1xyXG4gIHVwbG9hZGVkRmlsZTogYW55O1xyXG4gIGF0dGFjaFR5cGU6IGFueTtcclxuICBpbWFnZURhdGEhOiB7IGNvbnRlbnRUeXBlOiBhbnk7IGZpbGVOYW1lOiBhbnk7IH07XHJcbiAgYXR0YWNobWVudFNlcnZpY2U6IGFueTtcclxuICBzYW5pdGl6ZXI6IERvbVNhbml0aXplcjtcclxuICBwYWdlQWNjZXNzU2VydmljZTogYW55O1xyXG4gIHBhZ2VzTGlzdDogYW55O1xyXG4gIFJCQUNPUkc6IFJCQUNJTkZPID0gbmV3IFJCQUNJTkZPKCk7XHJcbiAgb3JnU3VicyE6IFN1YnNjcmlwdGlvbjtcclxuICBvcmdJZDogYW55O1xyXG4gIHNob3dMaW5rUGFnZSE6IGJvb2xlYW47XHJcbiAgZW52aXJvbm1lbnQ6IGFueTtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGluamVjdG9yOiBJbmplY3RvcixcclxuICAgIHByaXZhdGUgcGVybWlzc2lvblNlcnZpY2U6IFJiYWNTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBmb3JtQnVpbGRlcjogRm9ybUJ1aWxkZXIsXHJcbiAgICBwcml2YXRlIGFsZXJ0U2VydmljZTogQWxlcnRTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBjb25maXJtYXRpb25TZXJ2aWNlOiBDb25maXJtYXRpb25TZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBodHRwU2VydmljZTogSHR0cFNlcnZpY2UsXHJcbiAgICBwcml2YXRlIF9zaGFyZURhdGE6IFNoYXJlRGF0YVNlcnZpY2UsXHJcbiAgICBwcml2YXRlIF9zdG9yZXNlcnZpY2U6IERhdGFTdG9yZVNlcnZpY2VcclxuICApIHtcclxuICAgIHRoaXMubm9kZVR5cGUgPSAncGFnZSc7XHJcbiAgICB0aGlzLnNhdmVNb2RlID0gJ0lOU0VSVCc7XHJcbiAgICB0aGlzLnNhbml0aXplciA9IGluamVjdG9yLmdldDxEb21TYW5pdGl6ZXI+KERvbVNhbml0aXplcik7XHJcbiAgICB0aGlzLmluaXRpYWxpemVQYWdlRm9ybSgpO1xyXG4gICAgdGhpcy5pbml0aWFsaXplUGVybWlzc2lvbkZvcm0oKTtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgdGhpcy5vcmdTdWJzID0gIHRoaXMuX3N0b3Jlc2VydmljZS5jdXJyZW50U3RvcmUuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICBpZiAocmVzWydSQkFDT1JHJ10gJiYgcmVzWydSQkFDT1JHJ10gIT09ICcnKSB7XHJcbiAgICAgICAgdGhpcy5SQkFDT1JHID0gcmVzWydSQkFDT1JHJ107XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5SQkFDT1JHLCAnUkJBQ09SRyBQZXJtaXNzb24nKTtcclxuICAgICAgICB0aGlzLmVudmlyb25tZW50ID0gdGhpcy5SQkFDT1JHWydlbnZpcm9ubWVudCddO1xyXG4gICAgICAgIHRoaXMub3JnSWQgPSBwYXJzZUludCh0aGlzLlJCQUNPUkdbJ29yZ0lEJ10pO1xyXG4gICAgICAgIGlmICh0aGlzLm9yZ0lkKSB7XHJcbiAgICAgICAgICB0aGlzLnNldFBhZ2VzTGlzdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLmVudmlyb25tZW50KXtcclxuICAgICAgICAgIHRoaXMubG9hZEluaXRpYWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcclxuICAgIHRoaXMub3JnU3Vicy51bnN1YnNjcmliZSgpO1xyXG4gIH1cclxuICBsb2FkSW5pdGlhbCgpe1xyXG4gICAgdGhpcy5sb2FkVHJlZSgpO1xyXG4gICAgdGhpcy5sb2FkQ29udGV4dE1lbnUoKTtcclxuICAgIHRoaXMucGVybWlzc2lvblNlcnZpY2UuZ2V0UGVybWlzc2lvbnNUcmVlKHRoaXMuZW52aXJvbm1lbnQuYXBwbGljYXRpb25pZCkuc3Vic2NyaWJlKChpdGVtczogYW55KSA9PiB7XHJcbiAgICAgIHRoaXMucGVybWlzc2lvbnMgPSBpdGVtcy5kYXRhO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5wZXJtaXNzaW9uU2VydmljZS5nZXRQZXJtaXNzaW9uVHlwZXModGhpcy5lbnZpcm9ubWVudC5hcHBsaWNhdGlvbmlkKS5zdWJzY3JpYmUoKGl0ZW1zOiBhbnkpID0+IHtcclxuICAgICAgdGhpcy5wZXJtaXNzaW9uVHlwZXMgPSBpdGVtcy5kYXRhO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGluaXRpYWxpemVQYWdlRm9ybSgpIHtcclxuICAgIHRoaXMucGFnZUZvcm0gPSB0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKHtcclxuICAgICAgaWQ6IFswXSxcclxuICAgICAgcGFyZW50aWQ6IFtudWxsXSxcclxuICAgICAgYXBwbGljYXRpb25pZDogW3RoaXMuZW52aXJvbm1lbnQgPyB0aGlzLmVudmlyb25tZW50WydhcHBsaWNhdGlvbmlkJ106ICcnXSxcclxuICAgICAgbmFtZTogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcclxuICAgICAgcm91dGU6IFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXHJcbiAgICAgIG9yZGVyOiBbMF0sXHJcbiAgICAgIGlzbWVudTogW2ZhbHNlXSxcclxuICAgICAgdGh1bWJuYWlsOiBbJyddLFxyXG4gICAgICBpY29uOiBbJyddXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVQZXJtaXNzaW9uRm9ybSgpIHtcclxuICAgIHRoaXMucGVybWlzc2lvbkZvcm0gPSB0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKHtcclxuICAgICAgaWQ6IFswXSxcclxuICAgICAgcGFyZW50aWQ6IFtudWxsXSxcclxuICAgICAgcGFnZWlkOiBbMF0sXHJcbiAgICAgIHBlcm1pc3Npb250eXBlaWQ6IFswLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcclxuICAgICAga2V5OiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxyXG4gICAgICBkZXNjcmlwdGlvbjogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcclxuICAgICAgb3JkZXI6IFswXVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBvbk5vZGVDb250ZXh0TWVudVNlbGVjdChfZXZlbnQ6IGFueSkge1xyXG4gICAgY29uc29sZS5sb2coKTtcclxuICB9XHJcblxyXG4gIG5vZGVTZWxlY3QoZXZlbnQ6IGFueSkge1xyXG4gICAgdGhpcy5zYXZlTW9kZSA9ICdVUERBVEUnO1xyXG4gICAgdGhpcy5zaG93TGlua1BhZ2U9ZmFsc2U7XHJcbiAgICB0aGlzLm5vZGVUeXBlID0gZXZlbnQubm9kZS50eXBlO1xyXG4gICAgaWYgKGV2ZW50Lm5vZGUudHlwZSA9PT0gJ3Blcm1pc3Npb24nKSB7XHJcbiAgICAgIHRoaXMucGVybWlzc2lvbkZvcm0ucmVzZXQoKTtcclxuICAgICAgdGhpcy5wZXJtaXNzaW9uRm9ybS5wYXRjaFZhbHVlKGV2ZW50Lm5vZGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wYWdlRm9ybS5yZXNldCgpO1xyXG4gICAgICB0aGlzLnBhZ2VGb3JtLnBhdGNoVmFsdWUoZXZlbnQubm9kZSk7XHJcbiAgICAgIHRoaXMucGFnZUZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgaWNvbjogZXZlbnQubm9kZS5hZGRpdGlvbmFsaW5mbz8uaWNvbiB8fCAnJ1xyXG4gICAgICB9KTtcclxuICAgICAgaWYoZXZlbnQubm9kZS5yb3V0ZS5pbmNsdWRlcygnL3BhZ2VzL2R5bmFtaWMtc2VhcmNoL3NlYXJjaCcpKXtcclxuICAgICAgICB0aGlzLnNob3dMaW5rUGFnZT10cnVlO1xyXG4gICAgICAgIHRoaXMucGFnZUZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgICByb3V0ZTpldmVudC5ub2RlLnJvdXRlLnNwbGl0KCcvJylbNF1cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuaW1hZ2VJbmZvcm1hdGlvbiA9IGV2ZW50Lm5vZGUuYWRkaXRpb25hbGluZm8/LnRodW1ibmFpbD8uZmlsZU5hbWU/LnNwbGl0KCcvJylbMV0gfHwgJyc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBub2RlRXhwYW5kKGV2ZW50OiBhbnkpIHtcclxuICAgIGNvbnN0IHBhZ2VJZCA9IGV2ZW50Lm5vZGUudHlwZSA9PT0gJ3Blcm1pc3Npb24nID8gZXZlbnQubm9kZS5wYWdlaWQgOiBldmVudC5ub2RlLmRhdGE7XHJcbiAgICBjb25zdCBwYXJlbnRJZCA9IGV2ZW50Lm5vZGUudHlwZSA9PT0gJ3Blcm1pc3Npb24nID8gZXZlbnQubm9kZS5kYXRhIDogMDtcclxuICAgIGlmIChldmVudC5ub2RlICYmIGV2ZW50Lm5vZGUuZGF0YSkge1xyXG4gICAgICB0aGlzLnBlcm1pc3Npb25TZXJ2aWNlLmdldFBlcm1pc3Npb25UcmVlKHBhZ2VJZCwgcGFyZW50SWQpLnN1YnNjcmliZSgobm9kZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIGV2ZW50Lm5vZGUuY2hpbGRyZW4gPSAoPGFueT5ub2RlcykuZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzYXZlUGFnZSgpIHtcclxuICAgIGNvbnN0IHBhZ2UgPSB0aGlzLnBhZ2VGb3JtLnZhbHVlO1xyXG4gICAgcGFnZS5hcHBsaWNhdGlvbmlkID10aGlzLmVudmlyb25tZW50LmFwcGxpY2F0aW9uaWQ7XHJcbiAgICBwYWdlLmFkZGl0aW9uYWxpbmZvID0ge1xyXG4gICAgICBpY29uOiBwYWdlLmljb25cclxuICAgIH07XHJcbiAgICBpZiAodGhpcy5zaG93TGlua1BhZ2UpIHtcclxuICAgICAgcGFnZS5yb3V0ZSA9IGAvcGFnZXMvZHluYW1pYy1zZWFyY2gvc2VhcmNoLyR7cGFnZS5yb3V0ZX1gO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMucGFnZUZvcm0udmFsaWQpIHtcclxuICAgICAgcGFnZS5vcmRlciA9IHBhZ2Uub3JkZXIgPyBOdW1iZXIocGFnZS5vcmRlcikgOiAxO1xyXG4gICAgICBpZiAodGhpcy5zYXZlTW9kZSA9PT0gJ0lOU0VSVCcpIHtcclxuICAgICAgICB0aGlzLnBlcm1pc3Npb25TZXJ2aWNlLmNyZWF0ZVBhZ2UocGFnZSkuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgaWYgKHRoaXMuc2hvd0xpbmtQYWdlKSB7XHJcbiAgICAgICAgICAgIHBhZ2UuaWQgPSByZXNbJ2RhdGEnXTtcclxuICAgICAgICAgICAgdGhpcy5zYXZlUGVybWlzc2lvbihwYWdlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ1BhZ2UgY3JlYXRlZCBzdWNjZXNzZnVsbHkuJyk7XHJcbiAgICAgICAgICB0aGlzLmxvYWRUcmVlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uU2VydmljZS51cGRhdGVQYWdlKHBhZ2UpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdQYWdlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5LicpO1xyXG4gICAgICAgICAgdGhpcy5sb2FkVHJlZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignUGxlYXNlIEZpbGwgQWxsIFJlcXVpcmVkIEZpZWxkcy4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNhdmVQZXJtaXNzaW9uKHBhZ2U/OiBhbnkpIHtcclxuICAgIGlmIChwYWdlKSB7XHJcbiAgICAgIHRoaXMucGVybWlzc2lvbkZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgZGVzY3JpcHRpb246IHBhZ2UubmFtZSxcclxuICAgICAgICBrZXk6IHBhZ2UubmFtZS50b1VwcGVyQ2FzZSgpLnJlcGxhY2VBbGwoJyAnLCAnXycpLFxyXG4gICAgICAgIHBhZ2VpZDogcGFnZS5pZCxcclxuICAgICAgICBvcmRlcjogMSxcclxuICAgICAgICBwZXJtaXNzaW9udHlwZWlkOiAxXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcGVybWlzc2lvbiA9IHtcclxuICAgICAgLi4udGhpcy5wZXJtaXNzaW9uRm9ybS52YWx1ZSxcclxuICAgICAgb3JkZXI6ICt0aGlzLnBlcm1pc3Npb25Gb3JtLnZhbHVlLm9yZGVyXHJcbiAgICB9O1xyXG5cclxuICAgIGlmICh0aGlzLnBlcm1pc3Npb25Gb3JtLnZhbGlkKSB7XHJcbiAgICAgIHBlcm1pc3Npb24ub3JkZXIgPSBwZXJtaXNzaW9uLm9yZGVyID8gTnVtYmVyKHBlcm1pc3Npb24ub3JkZXIpIDogMTtcclxuICAgICAgZGVsZXRlIHBlcm1pc3Npb24ucmVhZG9ubHk7XHJcbiAgICAgIGlmICh0aGlzLnNhdmVNb2RlID09PSAnSU5TRVJUJykge1xyXG4gICAgICAgIHRoaXMucGVybWlzc2lvblNlcnZpY2UuY3JlYXRlUGVybWlzc2lvbihwZXJtaXNzaW9uKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUGVybWlzc2lvbiBjcmVhdGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxuICAgICAgICAgIHRoaXMubG9hZFRyZWUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnBlcm1pc3Npb25TZXJ2aWNlLnVwZGF0ZVBlcm1pc3Npb24ocGVybWlzc2lvbikuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ1Blcm1pc3Npb24gdXBkYXRlZCBzdWNjZXNzZnVsbHkuJyk7XHJcbiAgICAgICAgICB0aGlzLmxvYWRUcmVlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKCdJbnZhbGlkIHBlcm1pc3Npb24gZGF0YS4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsZWFyRm9ybSgpIHtcclxuICAgIGlmICh0aGlzLm5vZGVUeXBlID09PSAncGVybWlzc2lvbicpIHtcclxuICAgICAgdGhpcy5pbml0aWFsaXplUGVybWlzc2lvbkZvcm0oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZVBhZ2VGb3JtKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJlc2V0Rm9ybSgpIHtcclxuICAgIHRoaXMuc2F2ZU1vZGUgPSAnJztcclxuICAgIHRoaXMuaW1hZ2VJbmZvcm1hdGlvbiA9ICcnO1xyXG4gICAgdGhpcy5wYWdlRm9ybS5yZXNldCgpO1xyXG4gICAgdGhpcy5jbGVhckZvcm0oKTtcclxuICB9XHJcbiAgcmVtb3ZlVGh1bWJuYWlsKCkge1xyXG4gICAgdGhpcy5wYWdlRm9ybS5jb250cm9sc1sndGh1bWJuYWlsJ10ucmVzZXQoKTtcclxuICAgIHRoaXMuaW1hZ2VJbmZvcm1hdGlvbiA9ICcnO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlUGVybWlzc2lvbkZvcm0oKSB7XHJcbiAgICB0aGlzLmluaXRpYWxpemVQZXJtaXNzaW9uRm9ybSgpO1xyXG4gICAgaWYgKHRoaXMubm9kZVR5cGUgPT09ICdwYWdlJykge1xyXG4gICAgICB0aGlzLm5vZGVUeXBlID0gJ3Blcm1pc3Npb24nO1xyXG4gICAgICB0aGlzLnBlcm1pc3Npb25Gb3JtLnBhdGNoVmFsdWUoe1xyXG4gICAgICAgIHBhZ2VpZDogdGhpcy5zZWxlY3RlZEl0ZW0uaWRcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnBlcm1pc3Npb25Gb3JtLnBhdGNoVmFsdWUoe1xyXG4gICAgICAgIHBhZ2VpZDogdGhpcy5zZWxlY3RlZEl0ZW0ucGFnZWlkLFxyXG4gICAgICAgIHBhcmVudGlkOiB0aGlzLnNlbGVjdGVkSXRlbS5pZFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgbG9hZENvbnRleHRNZW51KCkge1xyXG4gICAgY29uc3QgcGVybWlzc2lvbiA9IHtcclxuICAgICAgU0VUVElOR1NfUEVSX0NSRUFURV9QQUdFOiB0cnVlLFxyXG4gICAgICBTRVRUSU5HU19QRVJfQ1JFQVRFX1BFUk1JU1NJT046IHRydWUsXHJcbiAgICAgIFNFVFRJTkdTX1BFUl9ERUxFVEU6IHRydWVcclxuICAgIH07XHJcbiAgICB0aGlzLm1lbnVJdGVtcyA9IFtcclxuICAgICAge1xyXG4gICAgICAgIGxhYmVsOiAnQ3JlYXRlIFBhZ2UnLFxyXG4gICAgICAgIGljb246IFByaW1lSWNvbnMuQVJST1dfVVBfTEVGVCxcclxuICAgICAgICB2aXNpYmxlOiBwZXJtaXNzaW9uLlNFVFRJTkdTX1BFUl9DUkVBVEVfUEFHRSxcclxuICAgICAgICBiYWRnZTogJ1NFVFRJTkdTX1BFUl9DUkVBVEVfUEFHRScsXHJcbiAgICAgICAgY29tbWFuZDogKF9ldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnNhdmVNb2RlID0gJ0lOU0VSVCc7XHJcbiAgICAgICAgICB0aGlzLm5vZGVUeXBlID0gJ3BhZ2UnO1xyXG4gICAgICAgICAgdGhpcy5zaG93TGlua1BhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgIHRoaXMuY2xlYXJGb3JtKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbGFiZWw6ICdMaW5rIFBhZ2UnLFxyXG4gICAgICAgIGljb246IFByaW1lSWNvbnMuQVJST1dfVVBfTEVGVCxcclxuICAgICAgICB2aXNpYmxlOiBwZXJtaXNzaW9uLlNFVFRJTkdTX1BFUl9DUkVBVEVfUEFHRSxcclxuICAgICAgICBjb21tYW5kOiAoX2V2ZW50OiBhbnkpID0+IHtcclxuICAgICAgICAgIHRoaXMuc2F2ZU1vZGUgPSAnSU5TRVJUJztcclxuICAgICAgICAgIHRoaXMubm9kZVR5cGUgPSAncGFnZSc7XHJcbiAgICAgICAgICB0aGlzLnNob3dMaW5rUGFnZSA9IHRydWU7XHJcbiAgICAgICAgICB0aGlzLmNsZWFyRm9ybSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGxhYmVsOiAnQ3JlYXRlIFBlcm1pc3Npb24nLFxyXG4gICAgICAgIGljb246IFByaW1lSWNvbnMuQVJST1dfRE9XTl9SSUdIVCxcclxuICAgICAgICB2aXNpYmxlOiBwZXJtaXNzaW9uLlNFVFRJTkdTX1BFUl9DUkVBVEVfUEVSTUlTU0lPTixcclxuICAgICAgICBiYWRnZTogJ1NFVFRJTkdTX1BFUl9DUkVBVEVfUEVSTUlTU0lPTicsXHJcbiAgICAgICAgY29tbWFuZDogX2V2ZW50ID0+IHtcclxuICAgICAgICAgIHRoaXMuc2F2ZU1vZGUgPSAnSU5TRVJUJztcclxuICAgICAgICAgIHRoaXMubm9kZVR5cGUgPSB0aGlzLnNlbGVjdGVkSXRlbS50eXBlO1xyXG4gICAgICAgICAgdGhpcy5jbGVhckZvcm0oKTtcclxuICAgICAgICAgIHRoaXMuY3JlYXRlUGVybWlzc2lvbkZvcm0oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBsYWJlbDogJ0RlbGV0ZScsXHJcbiAgICAgICAgaWNvbjogUHJpbWVJY29ucy5UUkFTSCxcclxuICAgICAgICB2aXNpYmxlOiBwZXJtaXNzaW9uLlNFVFRJTkdTX1BFUl9ERUxFVEUsXHJcbiAgICAgICAgYmFkZ2U6ICdTRVRUSU5HU19QRVJfREVMRVRFJyxcclxuICAgICAgICBjb21tYW5kOiBldmVudCA9PiB7XHJcbiAgICAgICAgICB0aGlzLnNhdmVNb2RlID0gJ0RFTEVURSc7XHJcbiAgICAgICAgICB0aGlzLm5vZGVUeXBlID0gdGhpcy5zZWxlY3RlZEl0ZW0udHlwZTtcclxuXHJcbiAgICAgICAgICB0aGlzLmNvbmZpcm1hdGlvblNlcnZpY2UuY29uZmlybSh7XHJcbiAgICAgICAgICAgIHRhcmdldDogZXZlbnQudGFyZ2V0LFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAnQXJlIHlvdSBzdXJlIHRoYXQgeW91IHdhbnQgdG8gZGVsZXRlPycsXHJcbiAgICAgICAgICAgIGljb246ICdwaSBwaS1leGNsYW1hdGlvbi10cmlhbmdsZScsXHJcbiAgICAgICAgICAgIGFjY2VwdDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgIC8vY29uZmlybSBhY3Rpb25cclxuICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUl0ZW0oKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVqZWN0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIF07XHJcbiAgfVxyXG5cclxuICBzZXRQYWdlc0xpc3QoKSB7XHJcbiAgICB0aGlzLnBlcm1pc3Npb25TZXJ2aWNlLmdldE9yZ2FuaXphdGlvblBhZ2UodGhpcy5vcmdJZCkuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0gcmVzWydkYXRhJ107XHJcbiAgICAgIGlmIChkYXRhICYmIGRhdGE/Lmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMucGFnZXNMaXN0ID0gZGF0YT8uZmlsdGVyKChhOiBhbnkpID0+IGEuYWN0aXZlVmVyc2lvbj8uZ3JpZGNvbmZpZykubWFwKCh4OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgeC5hY3RpdmVWZXJzaW9uLnBhZ2VpZCA9IHguYWN0aXZlVmVyc2lvbi5wYWdlaWQudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBpZDogeC5hY3RpdmVWZXJzaW9uLnBhZ2VpZCxcclxuICAgICAgICAgICAgICBwYWdlbmFtZTogeC5hY3RpdmVWZXJzaW9uLnBhZ2VuYW1lLFxyXG4gICAgICAgICAgICAgIHZhbHVlOiB4LmFjdGl2ZVZlcnNpb24ucGFnZW5hbWVcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbG9hZFRyZWUoKSB7XHJcbiAgICB0aGlzLnBlcm1pc3Npb25TZXJ2aWNlLmdldEFsbFBhZ2VUcmVlKHRoaXMuZW52aXJvbm1lbnQuYXBwbGljYXRpb25pZCkuc3Vic2NyaWJlKChpdGVtczogYW55KSA9PiB7XHJcbiAgICAgIHRoaXMucGFnZXMgPSBpdGVtcztcclxuICAgICAgaWYgKHRoaXMucGFnZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSB0aGlzLnBhZ2VzWzBdO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZGVsZXRlSXRlbSgpIHtcclxuICAgIHRoaXMuc2F2ZU1vZGUgPSAnVVBEQVRFJztcclxuICAgIGlmICh0aGlzLnNlbGVjdGVkSXRlbS50eXBlID09PSAncGFnZScpIHtcclxuICAgICAgdGhpcy5wZXJtaXNzaW9uU2VydmljZS5kZWxldGVQYWdlKHRoaXMuc2VsZWN0ZWRJdGVtLmlkKS5zdWJzY3JpYmUoKF9pdGVtOiBhbnkpID0+IHtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdQYWdlIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5LicpO1xyXG4gICAgICAgIHRoaXMubG9hZFRyZWUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnBlcm1pc3Npb25TZXJ2aWNlLmRlbGV0ZVBlcm1pc3Npb24odGhpcy5zZWxlY3RlZEl0ZW0uaWQpLnN1YnNjcmliZSgoX2l0ZW06IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ0NvbnRyb2wgUGVybWlzc2lvbiBkZWxldGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxuICAgICAgICB0aGlzLmxvYWRUcmVlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVxdWlyZWRJZlZhbGlkYXRvcihwcmVkaWNhdGU6ICgpID0+IGFueSkge1xyXG4gICAgcmV0dXJuIChmb3JtQ29udHJvbDogQWJzdHJhY3RDb250cm9sKSA9PiB7XHJcbiAgICAgIGlmICghZm9ybUNvbnRyb2wucGFyZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHByZWRpY2F0ZSgpKSB7XHJcbiAgICAgICAgcmV0dXJuIFZhbGlkYXRvcnMucmVxdWlyZWQoZm9ybUNvbnRyb2wpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUZpbGVJbnB1dChmaWxlVmFsdWU6IGFueSkge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gZmlsZVZhbHVlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgY29uc3QgZmlsZTogRmlsZSA9IHRhcmdldC5maWxlcyFbMF07XHJcbiAgICB0aGlzLnVwbG9hZGVkRmlsZSA9IGZpbGVWYWx1ZS50YXJnZXQuZmlsZXNbMF0ubmFtZTtcclxuICAgIHRoaXMuaW1hZ2VEYXRhID0ge1xyXG4gICAgICBjb250ZW50VHlwZTogZmlsZVZhbHVlLnRhcmdldC5maWxlc1swXS50eXBlLFxyXG4gICAgICBmaWxlTmFtZTogYGR5bmFtaWMtbWVudS8ke3RoaXMudXBsb2FkZWRGaWxlfWBcclxuICAgIH07XHJcbiAgICB0aGlzLmltYWdlSW5mb3JtYXRpb24gPSB0aGlzLnVwbG9hZGVkRmlsZTtcclxuICAgIGlmICh0aGlzLnZhbGlkYXRlSW1hZ2UoZmlsZVZhbHVlLnRhcmdldC5maWxlcykpIHtcclxuICAgICAgdGhpcy5wZXJtaXNzaW9uU2VydmljZS51cGxvYWRLZXkodGhpcy5pbWFnZURhdGEpLnN1YnNjcmliZShcclxuICAgICAgICAocmVzOiBhbnkpID0+IHtcclxuICAgICAgICAgIHRoaXMudXJsUGF0aCA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgY29uc3QgdXBsb2FkQXR0YWNobWVudDogYW55ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGUnKTtcclxuICAgICAgICAgIGNvbnN0IHVwbG9hZEF0dGFjaG1lbnREZXRhaWxzID0gdXBsb2FkQXR0YWNobWVudC5maWxlc1swXTtcclxuICAgICAgICAgIHRoaXMuaHR0cFNlcnZpY2UucHV0VXBsb2FkKHRoaXMudXJsUGF0aCwgdXBsb2FkQXR0YWNobWVudERldGFpbHMsIHVwbG9hZEF0dGFjaG1lbnREZXRhaWxzLnR5cGUpLnN1YnNjcmliZShcclxuICAgICAgICAgICAgKF9yZXNwOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdVcGxvYWRlZCBTdWNjZXNzZnVsbHkhJyk7XHJcbiAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnNhbml0aXplci5ieXBhc3NTZWN1cml0eVRydXN0VXJsKHJlYWRlci5yZXN1bHQgYXMgc3RyaW5nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFnZUZvcm0ucGF0Y2hWYWx1ZSh7IHRodW1ibmFpbDogdmFsdWUgYXMgc3RyaW5nIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgdGhpcy5hdHRhY2hUeXBlID0gZmlsZVZhbHVlLnRhcmdldC5maWxlc1swXS50eXBlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAoZXJyb3I6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ0FwcENvbnN0YW50cy5lcnJvck1lc3NhZ2UnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBsb2FkZWRGaWxlID0gJyc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVybFBhdGggPSAnJztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAoX2Vycm9yOiBhbnkpID0+IHtcclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKCdBcHBDb25zdGFudHMuZXJyb3JNZXNzYWdlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdmFsaWRhdGVJbWFnZShmaWxlOiBhbnkpIHtcclxuICAgIGNvbnN0IGZpbGVTaXplID0gTnVtYmVyKGZpbGVbMF0uc2l6ZSkgLyAxMDI0O1xyXG4gICAgY29uc3QgZmlsZXR5cGUgPSBmaWxlWzBdLnR5cGUucmVwbGFjZSgnaW1hZ2UvJywgJycpO1xyXG4gICAgaWYgKFxyXG4gICAgICBmaWxldHlwZSA9PT0gJ2pwZycgfHxcclxuICAgICAgZmlsZXR5cGUgPT09ICdqcGVnJyB8fFxyXG4gICAgICBmaWxldHlwZSA9PT0gJ3BuZycgfHxcclxuICAgICAgZmlsZXR5cGUgPT09ICdnaWYnIHx8XHJcbiAgICAgIGZpbGV0eXBlID09PSAnc3ZnK3htbCdcclxuICAgICkge1xyXG4gICAgICBpZiAoZmlsZVNpemUgPCA1MCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaW1hZ2VJbmZvcm1hdGlvbiA9ICdJbWFnZSBzaXplIGV4Y2VlZHMgNTAgS0InO1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLndhcm4oJ0ZpbGUgaXMgYmlnZ2VyIHRoYW4gNTAgS0InKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuaW1hZ2VJbmZvcm1hdGlvbiA9ICcnO1xyXG4gICAgICB0aGlzLmFsZXJ0U2VydmljZS53YXJuKGAke2ZpbGV0eXBlfSBmb3JtYXQgaXMgbm90IHN1cHBvcnRlZGApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIjxhcHAtYWxlcnQ+PC9hcHAtYWxlcnQ+XHJcbjxkaXYgY2xhc3M9XCJwZXJtaXNzaW9uXCI+XHJcbiAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgPGRpdiBjbGFzcz1cImNvbC1sZy00IGNvbC1tZC02IGNvbC0xMlwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cInRhYi1jb250ZW50IHB5LTJcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidGFiLXBhbmUgZmFkZSBzaG93IGFjdGl2ZVwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1hc3RlcmFjZXNzXCI+XHJcbiAgICAgICAgICAgIDxwLXRyZWVcclxuICAgICAgICAgICAgICBbdmFsdWVdPVwicGFnZXNcIlxyXG4gICAgICAgICAgICAgIHNlbGVjdGlvbk1vZGU9XCJzaW5nbGVcIlxyXG4gICAgICAgICAgICAgIFsoc2VsZWN0aW9uKV09XCJzZWxlY3RlZEl0ZW1cIlxyXG4gICAgICAgICAgICAgIChvbk5vZGVTZWxlY3QpPVwibm9kZVNlbGVjdCgkZXZlbnQpXCJcclxuICAgICAgICAgICAgICAob25Ob2RlQ29udGV4dE1lbnVTZWxlY3QpPVwib25Ob2RlQ29udGV4dE1lbnVTZWxlY3QoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgKG9uTm9kZUV4cGFuZCk9XCJub2RlRXhwYW5kKCRldmVudClcIlxyXG4gICAgICAgICAgICAgIFtjb250ZXh0TWVudV09XCJ0cmVlQ29udGV4dE1lbnVcIlxyXG4gICAgICAgICAgICAgICN0cmVlQ29udGV4dE1lbnU+PC9wLXRyZWU+XHJcbiAgICAgICAgICAgIDxwLWNvbnRleHRNZW51IFt0YXJnZXRdPVwidHJlZUNvbnRleHRNZW51XCIgW21vZGVsXT1cIm1lbnVJdGVtc1wiPjwvcC1jb250ZXh0TWVudT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctOCBjb2wtbWQtNiBjb2wtMTIgbWFzdGVyLXJpZ2h0IG10LTJcIj5cclxuICAgICAgPHAtY29uZmlybVBvcHVwPjwvcC1jb25maXJtUG9wdXA+XHJcbiAgICAgIDxwLWNhcmRcclxuICAgICAgICAqbmdJZj1cIm5vZGVUeXBlID09PSAncGFnZSdcIlxyXG4gICAgICAgIGlkPVwicGFnZUZvcm1cIlxyXG4gICAgICAgIGNsYXNzPVwicmJhYy1jYXJkXCJcclxuICAgICAgICBbZm9ybUdyb3VwXT1cInBhZ2VGb3JtXCJcclxuICAgICAgICBbc3R5bGVdPVwieyB3aWR0aDogJzEwMCUnLCAnbWFyZ2luLWJvdHRvbSc6ICcyZW0nIH1cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RyaXBfaGVhZCB0b2dnbGVsZWZ0XCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcG9ydF9oZWFkIGZvbnQtd2VpZ2h0LWJvbGRcIj5QYWdlPC9zcGFuPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxpbnB1dCBpZD1cImNpZFwiIHR5cGU9XCJoaWRkZW5cIiBmb3JtQ29udHJvbE5hbWU9XCJpZFwiIC8+XHJcbiAgICAgICAgPGlucHV0IGlkPVwiY2FwcGxpY2F0aW9uaWRcIiB0eXBlPVwiaGlkZGVuXCIgZm9ybUNvbnRyb2xOYW1lPVwiYXBwbGljYXRpb25pZFwiIC8+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInAtZmx1aWQgcC1mb3JtZ3JpZCBwLWdyaWRcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMyBjb2wtbWQtMTIgY29sLTEyIG1iLTNcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImNuYW1lXCIgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVsc1wiXHJcbiAgICAgICAgICAgICAgPk5hbWVcclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcXVpcmVkZmllbGQgdGV4dC1kYW5nZXJcIj4qPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICBpZD1cImNuYW1lXCJcclxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwibmFtZVwiXHJcbiAgICAgICAgICAgICAgZmllbGRLZXk9XCJTRVRUSU5HU19QRVJfTkFNRVwiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBOYW1lXCJcclxuICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiY25hbWVcIlxyXG4gICAgICAgICAgICAgIHBJbnB1dFRleHQgLz5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICpuZ0lmPVwiXHJcbiAgICAgICAgICAgICAgICBwYWdlRm9ybS5jb250cm9sc1snbmFtZSddLmludmFsaWQgJiZcclxuICAgICAgICAgICAgICAgIChwYWdlRm9ybS5jb250cm9sc1snbmFtZSddLmRpcnR5IHx8IHBhZ2VGb3JtLmNvbnRyb2xzWyduYW1lJ10udG91Y2hlZClcclxuICAgICAgICAgICAgICBcIj5cclxuICAgICAgICAgICAgICA8c21hbGwgKm5nSWY9XCJwYWdlRm9ybS5jb250cm9sc1snbmFtZSddLmludmFsaWRcIiBjbGFzcz1cInAtZXJyb3IgYmxvY2tcIj5OYW1lIGlzIHJlcXVpcmVkIDwvc21hbGw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTEyIGNvbC0xMiBtYi0zXCIgKm5nSWY9XCIhc2hvd0xpbmtQYWdlXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJjcm91dGVcIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCI+XHJcbiAgICAgICAgICAgICAgUm91dGVcclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcXVpcmVkZmllbGQgdGV4dC1kYW5nZXJcIj4qPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICBpZD1cImNyb3V0ZVwiXHJcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cInJvdXRlXCJcclxuICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1BFUl9ST1VURVwiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBSb3V0ZVwiXHJcbiAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImNyb3V0ZVwiXHJcbiAgICAgICAgICAgICAgcElucHV0VGV4dCAvPlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgKm5nSWY9XCJcclxuICAgICAgICAgICAgICAgIHBhZ2VGb3JtLmNvbnRyb2xzWydyb3V0ZSddLmludmFsaWQgJiZcclxuICAgICAgICAgICAgICAgIChwYWdlRm9ybS5jb250cm9sc1sncm91dGUnXS5kaXJ0eSB8fCBwYWdlRm9ybS5jb250cm9sc1sncm91dGUnXS50b3VjaGVkKVxyXG4gICAgICAgICAgICAgIFwiPlxyXG4gICAgICAgICAgICAgIDxzbWFsbCAqbmdJZj1cInBhZ2VGb3JtLmNvbnRyb2xzWydyb3V0ZSddLmludmFsaWRcIiBjbGFzcz1cInAtZXJyb3IgYmxvY2tcIj5Sb3V0ZSBpcyByZXF1aXJlZCA8L3NtYWxsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0zIGNvbC1tZC0xMiBjb2wtMTIgbWItM1wiICpuZ0lmPVwic2hvd0xpbmtQYWdlXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJjcm91dGVcIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCI+XHJcbiAgICAgICAgICAgICAgRHluYW1pYyBQYWdlc1xyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVxdWlyZWRmaWVsZCB0ZXh0LWRhbmdlclwiPio8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxwLWRyb3Bkb3duXHJcbiAgICAgICAgICAgICAgW29wdGlvbnNdPVwicGFnZXNMaXN0XCJcclxuICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJyb3V0ZVwiXHJcbiAgICAgICAgICAgICAgZmllbGRLZXk9XCJTRVRUSU5HU19QRVJfUk9VVEVcIlxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VsZWN0IER5bmFtaWMgUGFnZVwiXHJcbiAgICAgICAgICAgICAgb3B0aW9uTGFiZWw9XCJ2YWx1ZVwiXHJcbiAgICAgICAgICAgICAgb3B0aW9uVmFsdWU9XCJpZFwiXHJcbiAgICAgICAgICAgICAgW3Nob3dDbGVhcl09XCJ0cnVlXCI+XHJcbiAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICpuZ0lmPVwiXHJcbiAgICAgICAgICAgICAgICBwYWdlRm9ybS5jb250cm9sc1sncm91dGUnXS5pbnZhbGlkICYmXHJcbiAgICAgICAgICAgICAgICAocGFnZUZvcm0uY29udHJvbHNbJ3JvdXRlJ10uZGlydHkgfHwgcGFnZUZvcm0uY29udHJvbHNbJ3JvdXRlJ10udG91Y2hlZClcclxuICAgICAgICAgICAgICBcIj5cclxuICAgICAgICAgICAgICA8c21hbGwgKm5nSWY9XCJwYWdlRm9ybS5jb250cm9sc1sncm91dGUnXS5pbnZhbGlkXCIgY2xhc3M9XCJwLWVycm9yIGJsb2NrXCI+Um91dGUgaXMgcmVxdWlyZWQgPC9zbWFsbD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMyBjb2wtbWQtMTIgY29sLTEyIG1iLTNcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImNvcmRlclwiIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHNcIj5QYXJlbnQgUGFnZSA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8cC1kcm9wZG93blxyXG4gICAgICAgICAgICAgIFtvcHRpb25zXT1cInBhZ2VzXCJcclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBQYXJlbnQgUGFnZVwiXHJcbiAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwicGFyZW50aWRcIlxyXG4gICAgICAgICAgICAgIG9wdGlvbkxhYmVsPVwibmFtZVwiXHJcbiAgICAgICAgICAgICAgb3B0aW9uVmFsdWU9XCJpZFwiXHJcbiAgICAgICAgICAgICAgW3Nob3dDbGVhcl09XCJ0cnVlXCJcclxuICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1BFUl9QQVJFTlRfUEFHRVwiPlxyXG4gICAgICAgICAgICA8L3AtZHJvcGRvd24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMyBjb2wtbWQtMTIgY29sLTEyIG1iLTNcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImNvcmRlclwiIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHMgZC1ub25lIGQtbGctaW5saW5lLWJsb2NrXCI+JiMxNjA7PC9sYWJlbD5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICA8cC1jaGVja2JveFxyXG4gICAgICAgICAgICAgICAgc3RcclxuICAgICAgICAgICAgICAgIGlucHV0SWQ9XCJiaW5hcnlcIlxyXG4gICAgICAgICAgICAgICAgW2JpbmFyeV09XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgIGZpZWxkS2V5PVwiU0VUVElOR1NfUEVSX01FTlVcIlxyXG4gICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwiaXNtZW51XCJcclxuICAgICAgICAgICAgICAgIGxhYmVsPVwiTWVudVwiPjwvcC1jaGVja2JveD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTEyIGNvbC0xMiBtYi0zXCI+XHJcbiAgICAgICAgICA8bGFiZWwgZm9yPVwiaWNvblwiIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHNcIj5cclxuICAgICAgICAgICAgSWNvblxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcXVpcmVkZmllbGQgdGV4dC1kYW5nZXJcIj4qPC9zcGFuPlxyXG4gICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXhcIj5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgaWQ9XCJpY29uXCJcclxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwiaWNvblwiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBJY29uIE5hbWVcIlxyXG4gICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJjZGVzY3JpcHRpb24taWNvblwiXHJcbiAgICAgICAgICAgICAgcElucHV0VGV4dCAvPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQgdXNlcmVtcHR5XCI+XHJcbiAgICAgICAgICAgICAge3sgcGFnZUZvcm0uY29udHJvbHNbJ2ljb24nXS52YWx1ZSB9fVxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMlwiPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBidG4gYnRuLXByaW1hcnkgYnRuY29tbW9uXCJcclxuICAgICAgICAgICAgZmllbGRLZXk9XCJTRVRUSU5HU19QRVJfQUREX1BBR0VcIlxyXG4gICAgICAgICAgICAoY2xpY2spPVwic2F2ZVBhZ2UoKVwiPlxyXG4gICAgICAgICAgICB7eyBzYXZlTW9kZSA9PT0gJ1VQREFURScgPyAnVXBkYXRlIFBhZ2UnIDogJ0FkZCBQYWdlJyB9fVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIGZpZWxkS2V5PVwiU0VUVElOR1NfUEVSX0NBTkNFTFwiXHJcbiAgICAgICAgICAgIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIG1yLTIgYnRuIGJnLXdoaXRlIHRleHQtcHJpbWFyeSBib3JkZXIgYm9yZGVyLXByaW1hcnkgYnRuY2FuY2VsXCJcclxuICAgICAgICAgICAgKGNsaWNrKT1cInJlc2V0Rm9ybSgpXCI+XHJcbiAgICAgICAgICAgIENhbmNlbFxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L3AtY2FyZD5cclxuXHJcbiAgICAgIDxwLWNhcmRcclxuICAgICAgICAqbmdJZj1cIm5vZGVUeXBlID09PSAncGVybWlzc2lvbidcIlxyXG4gICAgICAgIGlkPVwicGVybWlzc2lvbkZvcm1cIlxyXG4gICAgICAgIGNsYXNzPVwicmJhYy1jYXJkXCJcclxuICAgICAgICBbZm9ybUdyb3VwXT1cInBlcm1pc3Npb25Gb3JtXCJcclxuICAgICAgICBbc3R5bGVdPVwieyB3aWR0aDogJzEwMCUnLCAnbWFyZ2luLWJvdHRvbSc6ICcyZW0nIH1cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RyaXBfaGVhZCB0b2dnbGVsZWZ0XCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcG9ydF9oZWFkIGZvbnQtd2VpZ2h0LWJvbGRcIj5QZXJtaXNzaW9uPC9zcGFuPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8aW5wdXQgaWQ9XCJsaWRcIiB0eXBlPVwiaGlkZGVuXCIgZm9ybUNvbnRyb2xOYW1lPVwiaWRcIiAvPlxyXG4gICAgICAgIDxpbnB1dCBpZD1cImxwZXJtaXNzaW9ucGFnZWlkXCIgdHlwZT1cImhpZGRlblwiIGZvcm1Db250cm9sTmFtZT1cInBlcm1pc3Npb250eXBlaWRcIiAvPlxyXG4gICAgICAgIDxpbnB1dCBpZD1cImxwYXJlbnRpZFwiIHR5cGU9XCJoaWRkZW5cIiBmb3JtQ29udHJvbE5hbWU9XCJwYXJlbnRpZFwiIC8+XHJcbiAgICAgICAgPGlucHV0IGlkPVwibHBhZ2VpZFwiIHR5cGU9XCJoaWRkZW5cIiBmb3JtQ29udHJvbE5hbWU9XCJwYWdlaWRcIiAvPlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicC1mbHVpZCBwLWZvcm1ncmlkIHAtZ3JpZFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgcC1jb2xcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImxwZXJtaXNzaW9udHlwZVwiIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHNcIj5QZXJtaXNzaW9uIFR5cGUgPC9sYWJlbD5cclxuICAgICAgICAgICAgPHAtZHJvcGRvd25cclxuICAgICAgICAgICAgICBpZD1cImxwZXJtaXNzaW9udHlwZVwiXHJcbiAgICAgICAgICAgICAgW29wdGlvbnNdPVwicGVybWlzc2lvblR5cGVzXCJcclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBhIFBlcm1pc3Npb24gVHlwZVwiXHJcbiAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwicGVybWlzc2lvbnR5cGVpZFwiXHJcbiAgICAgICAgICAgICAgb3B0aW9uTGFiZWw9XCJuYW1lXCJcclxuICAgICAgICAgICAgICBvcHRpb25WYWx1ZT1cImlkXCI+XHJcbiAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgPGRpdiAqbmdJZj1cInBlcm1pc3Npb25Gb3JtLmNvbnRyb2xzWydwZXJtaXNzaW9udHlwZWlkJ10uZXJyb3JzXCI+XHJcbiAgICAgICAgICAgICAgPHNtYWxsICpuZ0lmPVwicGVybWlzc2lvbkZvcm0uY29udHJvbHNbJ3Blcm1pc3Npb250eXBlaWQnXS5pbnZhbGlkXCIgY2xhc3M9XCJwLWVycm9yIGJsb2NrXCJcclxuICAgICAgICAgICAgICAgID5QZXJtaXNzaW9uIFR5cGUgaXMgcmVxdWlyZWRcclxuICAgICAgICAgICAgICA8L3NtYWxsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgcC1jb2xcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImxrZXlcIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCJcclxuICAgICAgICAgICAgICA+S2V5XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXF1aXJlZGZpZWxkIHRleHQtZGFuZ2VyXCI+Kjwvc3Bhbj5cclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgaWQ9XCJsa2V5XCJcclxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBLZXlcIlxyXG4gICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImtleVwiXHJcbiAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImxrZXktaGVscFwiXHJcbiAgICAgICAgICAgICAgcElucHV0VGV4dCAvPlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwicGVybWlzc2lvbkZvcm0uY29udHJvbHNbJ2tleSddLmVycm9yc1wiPlxyXG4gICAgICAgICAgICAgIDxzbWFsbCAqbmdJZj1cInBlcm1pc3Npb25Gb3JtLmNvbnRyb2xzWydrZXknXS5pbnZhbGlkXCIgY2xhc3M9XCJwLWVycm9yIGJsb2NrXCI+S2V5IGlzIHJlcXVpcmVkIDwvc21hbGw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZCBwLWNvbFwiPlxyXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwibHZhbHVlXCIgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVsc1wiPkRlc2NyaXB0aW9uIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIGlkPVwibHZhbHVlXCJcclxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBWYWx1ZVwiXHJcbiAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwiZGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJwbmFtZS1oZWxwXCJcclxuICAgICAgICAgICAgICBwSW5wdXRUZXh0IC8+XHJcbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJwZXJtaXNzaW9uRm9ybS5jb250cm9sc1snZGVzY3JpcHRpb24nXS5lcnJvcnNcIj5cclxuICAgICAgICAgICAgICA8c21hbGwgKm5nSWY9XCJwZXJtaXNzaW9uRm9ybS5jb250cm9sc1snZGVzY3JpcHRpb24nXS5pbnZhbGlkXCIgY2xhc3M9XCJwLWVycm9yIGJsb2NrXCJcclxuICAgICAgICAgICAgICAgID5EZXNjcmlwdGlvbiBpcyByZXF1aXJlZFxyXG4gICAgICAgICAgICAgIDwvc21hbGw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBidG4gYnRuLXByaW1hcnkgYnRuY29tbW9uXCIgKGNsaWNrKT1cInNhdmVQZXJtaXNzaW9uKClcIj5cclxuICAgICAgICAgICAge3sgc2F2ZU1vZGUgPT09ICdVUERBVEUnID8gJ1VwZGF0ZSBQZXJtaXNzaW9uJyA6ICdBZGQgUGVybWlzc2lvbicgfX1cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBtci0yIGJ0biBiZy13aGl0ZSB0ZXh0LXByaW1hcnkgYnRuY2FuY2VsXCIgKGNsaWNrKT1cImNsZWFyRm9ybSgpXCI+Q2FuY2VsPC9idXR0b24+XHJcbiAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L3AtY2FyZD5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuIl19